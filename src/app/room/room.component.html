<mat-sidenav-container fxFill autosize [hasBackdrop]="hasBackdrop">
  <mat-sidenav #sidenav opened mode="over" position="start" class="sideNav">

    <div class="button" fxLayout="row" fxLayoutAlign="{{isExpanded ? 'start' : 'center'}}">
      <!--fxFlexOffset is used here to keep the button in place upon expanding the sidNav-->
      <button mat-mini-fab (click)="expandNav()" class="mat-elevation-z0" color="none" fxFlexOffset="{{isExpanded ? 6 : 0}}">
        <mat-icon aria-label="Menu">menu</mat-icon>
      </button>
    </div>

    <app-voters [roomId]="roomId" [currentStory]="currentStory" [showMore]=isExpanded></app-voters>
  </mat-sidenav>

  <mat-sidenav-content fxLayout="row" class="sideNavContent">
    <div fxFlexFill fxLayout="column" class="votingContainer">

      <div id="mainVotingContainer">
        <div *ngIf="votingEnabled;" class="deck">
          <app-cards [roomId]="roomId" [currentStory]="currentStory"></app-cards>
        </div>

        <div *ngIf="votingEnabled === false" fxFlexFill>
          <app-voting-result [roomId]="roomId" [currentStory]="currentStory"></app-voting-result>
        </div>
      </div>

      <div fxLayout="row" fxLayoutAlign="center" [fxFlexOffset]="10">
        <mat-button-toggle (change)="votingEnabler()">{{votingButton}}</mat-button-toggle>
      </div>
    </div>
  </mat-sidenav-content>

</mat-sidenav-container>
